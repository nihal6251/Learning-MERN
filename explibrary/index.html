<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pixi + Matter Example</title>
  <script src="https://cdn.jsdelivr.net/npm/pixi.js@7.x/dist/pixi.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/matter-js@0.19.0/build/matter.min.js"></script>
</head>
<body>
<script>
  // 1️⃣ Create PIXI App (for graphics)
  const app = new PIXI.Application({ width: 800, height: 600, backgroundColor: 0x1099bb });
  document.body.appendChild(app.view);

  // 2️⃣ Create Matter.js Engine (for physics)
  const engine = Matter.Engine.create();
  const world = engine.world;

  // 3️⃣ Create Physics Bodies
  const ball = Matter.Bodies.circle(400, 100, 30, { restitution: 0.8 }); // bouncy
  const ground = Matter.Bodies.rectangle(400, 590, 800, 20, { isStatic: true });

  Matter.World.add(world, [ball, ground]);

  // 4️⃣ Create PIXI Graphics for each body
  const ballGraphics = new PIXI.Graphics();
  ballGraphics.beginFill(0xff0000);
  ballGraphics.drawCircle(0, 0, 30);
  ballGraphics.endFill();
  app.stage.addChild(ballGraphics);

  const groundGraphics = new PIXI.Graphics();
  groundGraphics.beginFill(0x00ff00);
  groundGraphics.drawRect(-400, -10, 800, 20);
  groundGraphics.endFill();
  groundGraphics.x = 400;
  groundGraphics.y = 590;
  app.stage.addChild(groundGraphics);

  // 5️⃣ Game Loop: update physics → render positions
  app.ticker.add(() => {
    Matter.Engine.update(engine);

    // Sync positions
    ballGraphics.x = ball.position.x;
    ballGraphics.y = ball.position.y;
    ballGraphics.rotation = ball.angle;
  });
</script>
</body>
</html>
